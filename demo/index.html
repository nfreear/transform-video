<!doctype html>
<html lang="en">

<style>
  :root {
    --orig-width: 1280px;
    --orig-height: 1440px;

    --video-height: 24rem;
  }

  /* 313 x 352 px */
  video {
    max-height: var(--video-height);
  }

  .para {
    margin: 1rem 0;
  }

  transform-video {
    display: inline-block;
    margin-right: 1rem;
    /* border: 1px solid silver;
    margin: 1rem 0;
    padding: 1rem; */

    &::part(canvas) {
      background: #eee;
      border: 1px solid silver;
      border-radius: .2rem;
      display: inline-block;
      margin: 1rem 0;

      X_width: 313px;
      X_height: 352px;
      max-height: var(--video-height);
    }

    &::part(splitCanvas) {
      height: calc(var(--video-height) / 2);
    }

    &::part(original) {
      display: none;
    }

    &[ split ]::before {
      display: block;
    }

    &[ split = bottom ]::before {
      content: 'bottom';
    }

    &[ split = top ]::before {
      content: 'top';
    }
  }
</style>


<video id="video" controls crossorigin="anonymous">
  <p>Loading video...</p>
</video>

<div class="para">

<transform-video split="bottom">
  <p>Loading video-splitter (bottom)</p>
</transform-video>

<transform-video split="top">
  <p>Loading video-splitter (top)</p>
</transform-video>

</div>


<script type="importmap">
{
  "imports": {
    "ENV": "../env.js",
    "TransformVideoElement": "../src/TransformVideoElement.js"
  }
}
</script>

<script type="module">
  import ENV from 'ENV';
  import TransformVideoElement from 'TransformVideoElement';

  customElements.define('transform-video', TransformVideoElement);

  const videoElem = document.querySelector('#video');

  console.debug('ENV:', ENV);

  videoElem.src = ENV.videoSrc;
</script>

</html>
